{"version":3,"file":"router.min.js","sources":["../src/router.js"],"names":["name","definition","module","exports","define","amd","this","addHashchangeListener","el","listener","addEventListener","attachEvent","removeHashchangeListener","removeEventListener","detachEvent","extend","i","arguments","length","key","hasOwnProperty","Function","prototype","bind","object","originalFunction","args","Array","slice","call","shift","apply","concat","PATH_REPLACER","PATH_NAME_MATCHER","PATH_EVERY_MATCHER","PATH_EVERY_REPLACER","PATH_EVERY_GLOBAL_MATCHER","PATH_EVERY_GLOBAL_REPLACER","LEADING_BACKSLASHES_MATCH","Request","href","params","query","splat","hasNext","get","default_value","undefined","Router","options","_options","ignorecase","_routes","_befores","_errors","_","err","url","httpCode","console","warn","_404","_500","error","Error","_paused","_hasChangeHandler","_onHashChange","window","_route","_extractFragment","location","hash_index","indexOf","substring","_throwsRouteError","_buildRequestObject","fragmentUrl","request","completeFragment","split","queryKeyValue","queryString","qLen","decodeURI","replace","splats","_followRoute","matchedIndexes","index","splice","route","match","path","len","paramNames","j","push","next","uO","u","mI","error_code","routeAction","_routeBefores","befores","before","nextBefore","urlToTest","p","test","pause","play","triggerNow","setLocation","history","pushState","redirect","addRoute","add","callback","modifiers","exec","RegExp","errors","isNaN","run","startUrl","destroy"],"mappings":"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"}